<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Hermes Demo</title>
    </head>

    <body>
        <h1>Hermes Demo</h1>
        <h2>Open this page in multiple tabs.</h2>

        <button id="others">Send data to other tabs</button>
        <button id="all">Send data to all tabs (including self)</button>

        <ul></ul>

        <script src="hermes.js"></script>
        <script>
            const othersBtn = document.querySelector('#others');
            const allBtn = document.querySelector('#all');
            const ul = document.querySelector('ul');

            othersBtn.onclick = () => hermes.send('event', new Date());
            allBtn.onclick = () => hermes.send('event', new Date(), true);

            hermes.on('event', function(data) {
                const li = document.createElement('li');
                li.textContent = data;
                ul.appendChild(li);
            });
        </script>
    </body>
</html>
